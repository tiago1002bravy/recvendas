# CURSOR RULES - ARQUITETURA ENTERPRISE

VocÃª Ã© um assistente especializado em arquitetura de aplicaÃ§Ãµes de alto nÃ­vel. Siga RIGOROSAMENTE estes padrÃµes baseados em Netflix, Spotify, Airbnb e Meta.

---

## REGRAS GERAIS DO PROJETO

### Gerenciamento de Pacotes
- **SEMPRE** use Yarn, **NUNCA** use NPM
- Comandos permitidos: `yarn`, `yarn add`, `yarn remove`, `yarn install`

### VariÃ¡veis de Ambiente
- **NUNCA** deixe variÃ¡veis de ambiente hardcoded no frontend
- **SEMPRE** puxe variÃ¡veis do arquivo `.env` ou `.env.local`
- Use `process.env.NEXT_PUBLIC_*` para variÃ¡veis que precisam estar no client-side
- Use `process.env.*` para variÃ¡veis server-side only

### Idioma
- **SEMPRE** responda em PortuguÃªs

### Deployment
- A aplicaÃ§Ã£o serÃ¡ publicada na **Vercel**
- Configure variÃ¡veis de ambiente no painel da Vercel
- Use `yarn build` para validar build antes do deploy
- Sempre configure os domÃ­nios personalizados na Vercel apÃ³s o deploy

### Sistema de Cores com PropÃ³sito
- **NUNCA** use cores apenas para decoraÃ§Ã£o ou estÃ©tica
- **SEMPRE** use cores com significado claro e consistente
- **Sistema de cores semÃ¢nticas**:
  - ğŸŸ¢ **Verde** = Positivo, bom, sucesso, meta atingida, crescimento favorÃ¡vel
  - ğŸŸ  **Laranja/Amarelo** = IntermediÃ¡rio, atenÃ§Ã£o, alerta, neutro
  - ğŸ”´ **Vermelho** = Negativo, ruim, erro, meta nÃ£o atingida, declÃ­nio
  - âš« **Preto/Cinza** = Neutro, informativo, sem conotaÃ§Ã£o de valor
- Se nÃ£o hÃ¡ significado de bom/ruim, use **preto, branco ou cinza**
- Mantenha consistÃªncia: mesma cor para mesmo significado em todo dashboard

---

## FILOSOFIA DE NOMENCLATURA

### PrincÃ­pios Fundamentais:

1. **Clareza semÃ¢ntica**: O nome deve expressar EXATAMENTE o que faz
2. **ConsistÃªncia absoluta**: Mesmo padrÃ£o em TODA aplicaÃ§Ã£o
3. **Escalabilidade**: FÃ¡cil de entender mesmo com 1000+ arquivos
4. **Busca otimizada**: Facilita localizaÃ§Ã£o por busca/autocomplete
5. **SeparaÃ§Ã£o de responsabilidades**: Sempre separe pasta para backend e pasta para frontend

---

## NOMENCLATURA DETALHADA POR TIPO

### 1. COMPONENTES REACT (PascalCase + Descritivo)

**PadrÃ£o**: `[Domain][Entity][Action/Type].tsx`

**Exemplos**:
```
MessageComposer.tsx           // Chat domain + Message entity + Composer action
UserProfileAvatar.tsx         // User domain + Profile entity + Avatar type
AdminDashboardHeader.tsx      // Admin domain + Dashboard entity + Header type
PlaylistTrackItem.tsx         // Playlist domain + Track entity + Item type
NotificationToastContainer.tsx // Notification domain + Toast entity + Container type
```

**Componentes de Input/Forms**:
```
EmailInputField.tsx
PasswordInputField.tsx
UserRegistrationForm.tsx
MessageComposerForm.tsx
SearchFilterForm.tsx
```

**Componentes de Display/UI**:
```
UserProfileCard.tsx
ConversationListPanel.tsx
SettingsModal.tsx
NotificationBanner.tsx
LoadingSpinner.tsx
```

**Componentes de Layout**:
```
MainNavigationSidebar.tsx
DashboardContentWrapper.tsx
ChatMessageContainer.tsx
HeaderNavigationBar.tsx
```

### 2. HOOKS CUSTOMIZADOS (camelCase + use + FunÃ§Ã£o EspecÃ­fica)

**PadrÃ£o**: `use[Domain][Entity][Action].ts`

**Exemplos**:
```
useChatMessageHistory.ts
useUserAuthenticationState.ts
useAdminDashboardFilters.ts
usePlaylistTrackSorting.ts
useNotificationPermissions.ts
```

**Data Fetching**:
```
useChatMessagesQuery.ts
useUserProfileQuery.ts
useAdminUsersInfiniteQuery.ts
usePlaylistTracksQuery.ts
```

**State Management**:
```
useChatActiveConversation.ts
useUserPreferencesState.ts
useAdminSelectedUsers.ts
usePlayerCurrentTrack.ts
```

**UI/UX Interactions**:
```
useChatMessageComposer.ts
useUserProfileEditor.ts
useAdminBulkActions.ts
usePlayerControls.ts
```

### 3. UTILITÃRIOS (camelCase + FunÃ§Ã£o EspecÃ­fica)

**PadrÃ£o**: `[action][Entity/Purpose].ts`

**Exemplos**:
```
formatCurrencyAmount.ts
validateEmailAddress.ts
parseApiResponseData.ts
calculatePlaylistDuration.ts
transformUserProfileData.ts
```

### 4. TYPES/INTERFACES (PascalCase + Entidade + Tipo)

**PadrÃ£o**: `[Entity][Purpose]Type.ts` ou `[Entity][Purpose].ts`

**Exemplos**:
```
ChatMessageType.ts
UserProfileData.ts
AdminDashboardFilters.ts
PlaylistTrackMetadata.ts
ApiResponseSchema.ts
```

### 5. STORES/STATE (camelCase + DomÃ­nio + Store)

**PadrÃ£o**: `[domain][Entity]Store.ts`

**Exemplos**:
```
chatMessagesStore.ts
userAuthenticationStore.ts
adminUsersManagementStore.ts
playerCurrentTrackStore.ts
```

### 6. CONSTANTS (UPPER_SNAKE_CASE + PropÃ³sito)

**PadrÃ£o**: `[PURPOSE]_[CATEGORY].ts`

**Exemplos**:
```
API_ENDPOINTS.ts
THEME_COLORS.ts
VALIDATION_RULES.ts
CHAT_MESSAGE_TYPES.ts
USER_PERMISSION_LEVELS.ts
```

---

## ESTRUTURA DE PASTAS ENTERPRISE

```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ (authenticated)/
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ loading.tsx
â”‚   â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ [conversationId]/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â”‚   â””â”€â”€ loading.tsx
â”‚   â”‚   â””â”€â”€ admin/
â”‚   â”‚       â”œâ”€â”€ users/
â”‚   â”‚       â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚       â”‚   â””â”€â”€ [userId]/
â”‚   â”‚       â”‚       â””â”€â”€ page.tsx
â”‚   â”‚       â””â”€â”€ analytics/
â”‚   â”‚           â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ (public)/
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ register/
â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”‚   â”œâ”€â”€ login/route.ts
â”‚   â”‚   â”‚   â””â”€â”€ logout/route.ts
â”‚   â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”‚   â”œâ”€â”€ messages/route.ts
â”‚   â”‚   â”‚   â””â”€â”€ conversations/route.ts
â”‚   â”‚   â””â”€â”€ admin/
â”‚   â”‚       â”œâ”€â”€ users/route.ts
â”‚   â”‚       â””â”€â”€ analytics/route.ts
â”‚   â”œâ”€â”€ globals.css
â”‚   â”œâ”€â”€ layout.tsx
â”‚   â””â”€â”€ page.tsx
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ button/
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.stories.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Button.test.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ input/
â”‚   â”‚   â”‚   â”œâ”€â”€ InputField.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ TextareaField.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ SearchInputField.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ modal/
â”‚   â”‚   â”‚   â”œâ”€â”€ Modal.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ModalHeader.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ModalContent.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ ModalFooter.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ card/
â”‚   â”‚   â”‚   â”œâ”€â”€ Card.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CardHeader.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ CardContent.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”œâ”€â”€ main-navigation/
â”‚   â”‚   â”‚   â”œâ”€â”€ MainNavigationSidebar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ NavigationMenuItem.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ NavigationUserMenu.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ header/
â”‚   â”‚   â”‚   â”œâ”€â”€ ApplicationHeader.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ HeaderSearchBar.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ HeaderNotifications.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ footer/
â”‚   â”‚   â”‚   â”œâ”€â”€ ApplicationFooter.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ features/
â”‚   â”‚   â”œâ”€â”€ authentication/
â”‚   â”‚   â”‚   â”œâ”€â”€ login-form/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoginForm.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ LoginForm.test.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useLoginForm.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ register-form/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RegisterForm.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ RegisterFormSteps.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useRegisterForm.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ password-reset/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PasswordResetForm.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ PasswordResetSuccess.tsx
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”‚   â”œâ”€â”€ message-composer/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MessageComposer.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MessageComposerToolbar.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MessageAttachmentUpload.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useMessageComposer.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ conversation-list/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ConversationList.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ConversationListItem.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ConversationSearchBar.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useConversationList.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ message-thread/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MessageThread.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MessageBubble.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MessageTimestamp.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ MessageReactions.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useMessageThread.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ chat-panel/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChatPanel.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChatPanelHeader.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ ChatPanelFooter.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useChatPanel.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ user-presence/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserPresenceIndicator.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserTypingIndicator.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useUserPresence.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ user-management/
â”‚   â”‚   â”‚   â”œâ”€â”€ user-profile/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserProfileCard.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserProfileAvatar.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserProfileEditor.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserProfileSettings.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useUserProfile.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ user-search/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserSearchBar.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserSearchResults.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ UserSearchFilters.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useUserSearch.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AdminDashboardOverview.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AdminDashboardStats.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AdminDashboardCharts.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useAdminDashboard.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ user-management/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AdminUserTable.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AdminUserActions.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AdminUserFilters.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AdminUserBulkActions.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useAdminUsers.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ analytics/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AdminAnalyticsOverview.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AdminAnalyticsCharts.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ AdminAnalyticsFilters.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ useAdminAnalytics.ts
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ authentication/
â”‚   â”‚   â”œâ”€â”€ useUserAuthentication.ts
â”‚   â”‚   â”œâ”€â”€ useLoginState.ts
â”‚   â”‚   â”œâ”€â”€ useLogout.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”œâ”€â”€ useChatMessagesQuery.ts
â”‚   â”‚   â”œâ”€â”€ useChatSocket.ts
â”‚   â”‚   â”œâ”€â”€ useConversationState.ts
â”‚   â”‚   â”œâ”€â”€ useMessageHistory.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”œâ”€â”€ useUserProfileQuery.ts
â”‚   â”‚   â”œâ”€â”€ useUserPreferences.ts
â”‚   â”‚   â”œâ”€â”€ useUserPermissions.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”œâ”€â”€ useAdminUsersQuery.ts
â”‚   â”‚   â”œâ”€â”€ useAdminAnalytics.ts
â”‚   â”‚   â”œâ”€â”€ useAdminPermissions.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ stores/
â”‚   â”œâ”€â”€ authentication/
â”‚   â”‚   â”œâ”€â”€ authenticationStore.ts
â”‚   â”‚   â”œâ”€â”€ userSessionStore.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”œâ”€â”€ chatMessagesStore.ts
â”‚   â”‚   â”œâ”€â”€ conversationsStore.ts
â”‚   â”‚   â”œâ”€â”€ chatUIStore.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”œâ”€â”€ userProfileStore.ts
â”‚   â”‚   â”œâ”€â”€ userPreferencesStore.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”œâ”€â”€ adminUsersStore.ts
â”‚   â”‚   â”œâ”€â”€ adminAnalyticsStore.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ authentication/
â”‚   â”‚   â”‚   â”œâ”€â”€ authenticationClient.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ loginApiRequest.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ logoutApiRequest.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”‚   â”œâ”€â”€ chatApiClient.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ messagesApiRequest.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ conversationsApiRequest.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”‚   â”œâ”€â”€ userApiClient.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ userProfileApiRequest.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”‚   â”œâ”€â”€ adminApiClient.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ adminUsersApiRequest.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ baseApiClient.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â”œâ”€â”€ formatting/
â”‚   â”‚   â”‚   â”œâ”€â”€ formatCurrencyAmount.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ formatDateAndTime.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ formatUserDisplayName.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ validation/
â”‚   â”‚   â”‚   â”œâ”€â”€ validateEmailAddress.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ validatePasswordStrength.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ validatePhoneNumber.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ transformation/
â”‚   â”‚   â”‚   â”œâ”€â”€ transformApiResponseData.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ transformUserProfileData.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ parseJsonSafelyWithFallback.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â”œâ”€â”€ calculation/
â”‚   â”‚   â”‚   â”œâ”€â”€ calculateMessageReadTime.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ calculateUserActiveTime.ts
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ constants/
â”‚   â”‚   â”œâ”€â”€ API_ENDPOINTS.ts
â”‚   â”‚   â”œâ”€â”€ THEME_CONFIGURATION.ts
â”‚   â”‚   â”œâ”€â”€ VALIDATION_RULES.ts
â”‚   â”‚   â”œâ”€â”€ CHAT_MESSAGE_TYPES.ts
â”‚   â”‚   â”œâ”€â”€ USER_PERMISSION_LEVELS.ts
â”‚   â”‚   â”œâ”€â”€ ROUTE_PATHS.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ authenticationConfig.ts
â”‚   â”‚   â”œâ”€â”€ authenticationMiddleware.ts
â”‚   â”‚   â”œâ”€â”€ tokenManager.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ types/
â”‚   â”œâ”€â”€ authentication/
â”‚   â”‚   â”œâ”€â”€ AuthenticationTypes.ts
â”‚   â”‚   â”œâ”€â”€ UserSessionData.ts
â”‚   â”‚   â”œâ”€â”€ LoginCredentials.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”œâ”€â”€ ChatMessageTypes.ts
â”‚   â”‚   â”œâ”€â”€ ConversationData.ts
â”‚   â”‚   â”œâ”€â”€ MessageAttachment.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ user/
â”‚   â”‚   â”œâ”€â”€ UserProfileTypes.ts
â”‚   â”‚   â”œâ”€â”€ UserPreferencesData.ts
â”‚   â”‚   â”œâ”€â”€ UserPermissionTypes.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ admin/
â”‚   â”‚   â”œâ”€â”€ AdminUserTypes.ts
â”‚   â”‚   â”œâ”€â”€ AdminAnalyticsData.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ ApiResponseTypes.ts
â”‚   â”‚   â”œâ”€â”€ ApiErrorTypes.ts
â”‚   â”‚   â”œâ”€â”€ ApiRequestTypes.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ ComponentPropsTypes.ts
â”‚   â”‚   â”œâ”€â”€ ThemeTypes.ts
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â””â”€â”€ index.ts
â”œâ”€â”€ providers/
â”‚   â”œâ”€â”€ AuthenticationProvider.tsx
â”‚   â”œâ”€â”€ ThemeProvider.tsx
â”‚   â”œâ”€â”€ NotificationProvider.tsx
â”‚   â”œâ”€â”€ ChatSocketProvider.tsx
â”‚   â””â”€â”€ index.ts
â””â”€â”€ scripts/
    â”œâ”€â”€ database/
    â”‚   â”œâ”€â”€ seedDatabaseWithTestData.ts
    â”‚   â””â”€â”€ migrateDatabaseSchema.ts
    â”œâ”€â”€ build/
    â”‚   â”œâ”€â”€ generateBuildMetadata.ts
    â”‚   â””â”€â”€ optimizeAssets.ts
    â””â”€â”€ index.ts
```

---

## EXEMPLOS PRÃTICOS DE REFATORAÃ‡ÃƒO

### âŒ ANTES (Estrutura ProblemÃ¡tica)

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ audio-player.tsx
â”‚   â”œâ”€â”€ conversation-list.tsx
â”‚   â”œâ”€â”€ message-input.tsx
â”‚   â”œâ”€â”€ message-item.tsx
â”‚   â”œâ”€â”€ sidebar.tsx
â”‚   â””â”€â”€ user-nav.tsx
```

**Problemas**:
- Nomenclatura genÃ©rica e inconsistente
- Sem separaÃ§Ã£o por domÃ­nio/feature
- DifÃ­cil de escalar e manter
- Sem organizaÃ§Ã£o hierÃ¡rquica

### âœ… DEPOIS (Estrutura Correta)

```
src/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â””â”€â”€ audio-player/
â”‚   â”‚       â”œâ”€â”€ AudioPlayerControl.tsx
â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â”œâ”€â”€ layout/
â”‚   â”‚   â”œâ”€â”€ main-navigation/
â”‚   â”‚   â”‚   â”œâ”€â”€ MainNavigationSidebar.tsx
â”‚   â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ user-navigation/
â”‚   â”‚       â”œâ”€â”€ UserNavigationMenu.tsx
â”‚   â”‚       â””â”€â”€ index.ts
â”‚   â””â”€â”€ features/
â”‚       â””â”€â”€ chat/
â”‚           â”œâ”€â”€ conversation-list/
â”‚           â”‚   â”œâ”€â”€ ConversationList.tsx
â”‚           â”‚   â””â”€â”€ index.ts
â”‚           â”œâ”€â”€ message-composer/
â”‚           â”‚   â”œâ”€â”€ MessageComposer.tsx
â”‚           â”‚   â””â”€â”€ index.ts
â”‚           â””â”€â”€ message-thread/
â”‚               â”œâ”€â”€ MessageBubble.tsx
â”‚               â””â”€â”€ index.ts
```

**Vantagens**:
- Nomenclatura clara e especÃ­fica
- SeparaÃ§Ã£o por domÃ­nio (ui, layout, features)
- FÃ¡cil de escalar para 1000+ componentes
- Barrel exports para imports limpos

---

## REGRAS DE IMPORTAÃ‡ÃƒO

### Estrutura de Imports (Ordem ObrigatÃ³ria)

```typescript
// 1. React e Next.js
import React from 'react';
import { useRouter } from 'next/navigation';

// 2. Bibliotecas Externas (alfabÃ©tica)
import axios from 'axios';
import clsx from 'clsx';
import { z } from 'zod';

// 3. Componentes Internos (ui primeiro, depois features)
import { Button } from '@/components/ui/button';
import { Modal } from '@/components/ui/modal';
import { UserProfileCard } from '@/components/features/user-management/user-profile';

// 4. Hooks (prÃ³prios depois de externos)
import { useUserAuthentication } from '@/hooks/authentication';
import { useChatMessagesQuery } from '@/hooks/chat';

// 5. Stores/Context
import { useAuthenticationStore } from '@/stores/authentication';
import { useChatMessagesStore } from '@/stores/chat';

// 6. Types (alfabÃ©tica)
import type { ChatMessageType } from '@/types/chat';
import type { UserProfileData } from '@/types/user';

// 7. Utils e Constants
import { API_ENDPOINTS } from '@/lib/constants';
import { formatDateAndTime } from '@/lib/utils/formatting';
import { validateEmailAddress } from '@/lib/utils/validation';
```

### Regras de Path Alias

Configure no `tsconfig.json`:

```json
{
  "compilerOptions": {
    "baseUrl": ".",
    "paths": {
      "@/*": ["./src/*"],
      "@/components/*": ["./src/components/*"],
      "@/hooks/*": ["./src/hooks/*"],
      "@/lib/*": ["./src/lib/*"],
      "@/types/*": ["./src/types/*"],
      "@/stores/*": ["./src/stores/*"]
    }
  }
}
```

---

## VALIDAÃ‡ÃƒO OBRIGATÃ“RIA

### âœ… Checklist de Nomenclatura

- [ ] Componentes em PascalCase com nome descritivo completo
- [ ] Hooks com prefixo 'use' + domÃ­nio + entidade + aÃ§Ã£o
- [ ] Types em PascalCase com sufixo tipo
- [ ] Utils em camelCase com verbo + objeto
- [ ] Constants em UPPER_SNAKE_CASE com categoria

### âœ… Checklist de Estrutura

- [ ] Arquivo na pasta correta da feature
- [ ] Barrel exports criados em todos os nÃ­veis
- [ ] Imports organizados na ordem correta
- [ ] Types especÃ­ficos definidos
- [ ] Hooks customizados em pasta separada

### âœ… Checklist de Qualidade

- [ ] Nome do arquivo expressa exatamente sua funÃ§Ã£o
- [ ] LocalizaÃ§Ã£o facilita encontrar e manter
- [ ] Imports sÃ£o limpos e organizados
- [ ] Componentes seguem responsabilidade Ãºnica
- [ ] ReutilizaÃ§Ã£o maximizada

---

## DEPLOYMENT NA VERCEL

### ConfiguraÃ§Ã£o Inicial

1. **Conecte o repositÃ³rio**:
   - Acesse [vercel.com](https://vercel.com)
   - Conecte seu repositÃ³rio GitHub/GitLab/Bitbucket
   - Selecione o projeto

2. **Configure as variÃ¡veis de ambiente**:
   - No painel da Vercel: Settings â†’ Environment Variables
   - Adicione TODAS as variÃ¡veis do seu `.env.local`
   - Configure para: Production, Preview, e Development

3. **ConfiguraÃ§Ã£o de Build**:
   ```
   Build Command: yarn build
   Output Directory: .next
   Install Command: yarn install
   Development Command: yarn dev
   ```

### VariÃ¡veis de Ambiente na Vercel

**Exemplo de configuraÃ§Ã£o**:

```env
# VariÃ¡veis pÃºblicas (acessÃ­veis no client)
NEXT_PUBLIC_API_URL=https://api.seudominio.com
NEXT_PUBLIC_APP_URL=https://seudominio.com

# VariÃ¡veis privadas (apenas server-side)
DATABASE_URL=postgresql://...
API_SECRET_KEY=...
JWT_SECRET=...
```

### Comandos para Deploy

```bash
# Instalar Vercel CLI
yarn global add vercel

# Deploy para preview
vercel

# Deploy para production
vercel --prod

# Ver logs
vercel logs
```

### ConfiguraÃ§Ãµes Recomendadas

**vercel.json** (opcional):

```json
{
  "buildCommand": "yarn build",
  "devCommand": "yarn dev",
  "installCommand": "yarn install",
  "framework": "nextjs",
  "regions": ["gru1"],
  "env": {
    "NEXT_PUBLIC_API_URL": "@next-public-api-url"
  }
}
```

### Checklist de Deploy

- [ ] Todas as variÃ¡veis de ambiente configuradas na Vercel
- [ ] Build local executado com sucesso (`yarn build`)
- [ ] Testes passando
- [ ] `.env.local` no `.gitignore`
- [ ] VariÃ¡veis pÃºblicas com prefixo `NEXT_PUBLIC_`
- [ ] DomÃ­nio personalizado configurado (se aplicÃ¡vel)
- [ ] HTTPS ativado
- [ ] Monitoramento configurado

### Troubleshooting

**Erro de Build**:
```bash
# Rode localmente para identificar o problema
yarn build
```

**Erro de VariÃ¡veis de Ambiente**:
- Verifique se todas estÃ£o no painel da Vercel
- Confirme os prefixos corretos (`NEXT_PUBLIC_` para client-side)
- Reinicie o deployment apÃ³s adicionar variÃ¡veis

**Performance**:
- Use Next.js Image Optimization
- Configure caching adequadamente
- Use Static Generation quando possÃ­vel

---

## REGRAS PROIBIDAS

### âŒ NUNCA FAÃ‡A ISSO

1. **Nomes genÃ©ricos**:
   ```
   âŒ component.tsx
   âŒ utils.ts
   âŒ helpers.ts
   âŒ common.ts
   âŒ index.tsx (exceto para barrel exports)
   ```

2. **Estrutura plana**:
   ```
   âŒ src/components/button.tsx
   âŒ src/components/modal.tsx
   âŒ src/components/form.tsx
   ```

3. **VariÃ¡veis hardcoded**:
   ```typescript
   âŒ const API_URL = "https://api.exemplo.com"
   âœ… const API_URL = process.env.NEXT_PUBLIC_API_URL
   ```

4. **Usar NPM**:
   ```bash
   âŒ npm install
   âŒ npm run dev
   âœ… yarn install
   âœ… yarn dev
   ```

5. **Imports desorganizados**:
   ```typescript
   âŒ import { Button } from '../../../components/ui/button'
   âœ… import { Button } from '@/components/ui/button'
   ```

6. **Cores sem propÃ³sito**:
   ```typescript
   âŒ className="bg-blue-500"  // Azul sÃ³ para "ficar bonito"
   âŒ className="bg-purple-600" // Roxo apenas decorativo
   âœ… className="bg-green-500"  // Verde = resultado positivo
   âœ… className="bg-red-500"    // Vermelho = resultado negativo
   âœ… className="bg-gray-900"   // Cinza = neutro, sem conotaÃ§Ã£o
   ```

---

## RESUMO FINAL

**SEMPRE**:
- Use nomes especÃ­ficos e descritivos
- Organize por domÃ­nio/feature
- Crie barrel exports (index.ts)
- Use path aliases (@/)
- Separe responsabilidades
- Use Yarn
- Configure variÃ¡veis no .env
- Valide build antes do deploy na Vercel
- Use cores com propÃ³sito e significado claro

**NUNCA**:
- Use nomes genÃ©ricos
- Misture responsabilidades
- FaÃ§a estrutura plana
- Use NPM
- Deixe variÃ¡veis hardcoded
- EsqueÃ§a de configurar variÃ¡veis na Vercel
- Use cores apenas para decoraÃ§Ã£o

---

**Este documento Ã© a LEI do projeto. Siga-o RIGOROSAMENTE.**

